<main>
  <app-person-autocomplete
    class="person-autocomplete"
    [minimumMatchingLetters]="2"
    [selectedPerson]="this.selectedPerson()"
    (personSelectedEvent)="onPersonSelected($event)"
  />
  @if(this.selectedPerson() && this.lastDeclaration()) {
  <div class="container">
    <div class="column">
      <app-personal-data-card
        [person]="this.selectedPerson()!"
      />
      <app-declarations-card
        [declarations]="this.selectedPerson()!.assetDeclarations"
      />
    </div>
    <div class="column">
      <app-income-card
      [incomes]="lastDeclaration()!.incomes"
    />
    <app-currencies-card
      [cashPositions]="lastDeclaration()!.cashPositions"
    />
    </div>
    <div class="column">
      <app-real-estate-card
      [realEstate]="lastDeclaration()!.realEstate"
    />
    <app-personal-properties-card
      [personalProperties]="lastDeclaration()!.personalProperties"
    />
    </div>
  </div>
  } @else if (this.isLoading()) {
  <div class="loading-container">
    <mat-spinner />
  </div>
  }
</main>
